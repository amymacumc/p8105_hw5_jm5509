p8105_hw5_jm5509
================
Echo
2022-11-05

## Problem 2

Then I created a city_state variable.

``` r
homicides_df <- read.csv("https://raw.githubusercontent.com/washingtonpost/data-homicides/master/homicide-data.csv")

homicides_df <-  homicides_df %>% 
  mutate(city_state = str_c(city, state, sep = ', ')) 
```

I summarize within cities to obtain the total number of homicides.

``` r
homicides_df %>% 
  group_by(city_state) %>% 
  summarize(n_total = n()) %>% 
  knitr::kable()
```

| city_state         | n_total |
|:-------------------|--------:|
| Albuquerque, NM    |     378 |
| Atlanta, GA        |     973 |
| Baltimore, MD      |    2827 |
| Baton Rouge, LA    |     424 |
| Birmingham, AL     |     800 |
| Boston, MA         |     614 |
| Buffalo, NY        |     521 |
| Charlotte, NC      |     687 |
| Chicago, IL        |    5535 |
| Cincinnati, OH     |     694 |
| Columbus, OH       |    1084 |
| Dallas, TX         |    1567 |
| Denver, CO         |     312 |
| Detroit, MI        |    2519 |
| Durham, NC         |     276 |
| Fort Worth, TX     |     549 |
| Fresno, CA         |     487 |
| Houston, TX        |    2942 |
| Indianapolis, IN   |    1322 |
| Jacksonville, FL   |    1168 |
| Kansas City, MO    |    1190 |
| Las Vegas, NV      |    1381 |
| Long Beach, CA     |     378 |
| Los Angeles, CA    |    2257 |
| Louisville, KY     |     576 |
| Memphis, TN        |    1514 |
| Miami, FL          |     744 |
| Milwaukee, wI      |    1115 |
| Minneapolis, MN    |     366 |
| Nashville, TN      |     767 |
| New Orleans, LA    |    1434 |
| New York, NY       |     627 |
| Oakland, CA        |     947 |
| Oklahoma City, OK  |     672 |
| Omaha, NE          |     409 |
| Philadelphia, PA   |    3037 |
| Phoenix, AZ        |     914 |
| Pittsburgh, PA     |     631 |
| Richmond, VA       |     429 |
| Sacramento, CA     |     376 |
| San Antonio, TX    |     833 |
| San Bernardino, CA |     275 |
| San Diego, CA      |     461 |
| San Francisco, CA  |     663 |
| Savannah, GA       |     246 |
| St. Louis, MO      |    1677 |
| Stockton, CA       |     444 |
| Tampa, FL          |     208 |
| Tulsa, AL          |       1 |
| Tulsa, OK          |     583 |
| Washington, DC     |    1345 |

Then I summarize within cities, but this time to obtain **the number of
unsolved homicides** (those for which the disposition is “Closed without
arrest” or “Open/No arrest”).

``` r
homicides_df %>% 
  filter(disposition == 'Closed without arrest' | 
           disposition == 'Open/No arrest') %>% 
  group_by(city_state) %>% 
  summarize(n_unsolved = n())
```

    ## # A tibble: 50 × 2
    ##    city_state      n_unsolved
    ##    <chr>                <int>
    ##  1 Albuquerque, NM        146
    ##  2 Atlanta, GA            373
    ##  3 Baltimore, MD         1825
    ##  4 Baton Rouge, LA        196
    ##  5 Birmingham, AL         347
    ##  6 Boston, MA             310
    ##  7 Buffalo, NY            319
    ##  8 Charlotte, NC          206
    ##  9 Chicago, IL           4073
    ## 10 Cincinnati, OH         309
    ## # … with 40 more rows

``` r
baltimore_df <- homicides_df %>% 
  filter(city_state == 'Baltimore, MD')

(baltimore_total <- baltimore_df %>% nrow())
```

    ## [1] 2827

``` r
(baltimore_unsolved <- baltimore_df %>% 
  filter(disposition == 'Closed without arrest' | 
           disposition == 'Open/No arrest') %>% 
  nrow())
```

    ## [1] 1825

``` r
baltimore_test <- prop.test(baltimore_unsolved, baltimore_total)

baltimore_test %>% broom::tidy() %>% 
  select(estimate, conf.low, conf.high) %>% 
  knitr::kable(digits = 3)
```

| estimate | conf.low | conf.high |
|---------:|---------:|----------:|
|    0.646 |    0.628 |     0.663 |
